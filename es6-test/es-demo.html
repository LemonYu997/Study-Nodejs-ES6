<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>es6 测试</title>
    <script type="text/javascript">
        /*        for (let i = 0; i < 5; i++) {
                    console.log(i);
                }
                //console.log("let 循环外：" + i);

                //传统字符串
                let name1 = "test";
                console.log("hello " + name1);

                //模板字符串
                const name2 = "test";
                //使用反引号 ``
                console.log(`hello ${name2}`);

                //原版：用反斜线\表示换行
                var msg = "Hi \
                    \
                    test";
                //用反引号 `` 直接换行
                const template = `<div>
                hi
                test
                </div>
                `;*/

        /*
                //原版：构造对象
                function person5(name, age) {
                    return {name:name, age:age}
                }
                console.log("es5 => " + JSON.stringify(person5("test5", 15)));
                //ES6操作，构造对象
                function person6(name, age) {
                    return {name, age};
                }
                console.log("es6 => " + JSON.stringify(person6("test6", 15)));
        */

        /*//函数调用ES5写法
        var print = function (obj) {
            console.log(obj);
        };
        print("print");     //print
        //ES6箭头函数
        var print2 = obj => console.log(obj);
        print2("print2");   //print2

        //函数调用ES5写法，多个参数
        var sum = function (a, b) {
            return a + b;
        };
        console.log(sum(1, 2)); //3
        //ES6箭头函数，多个参数
        var sum2 = (a, b) => a + b;
        console.log(sum2(1, 2)); //3

        //箭头函数，多个函数体
        var sum3 = (a, b) => {
            //函数体中的输出
            console.log(a + b);
            return a + b;   //返回结果
        };
        console.log(sum3(1, 2));    //3 3

        //ES5对象中的函数
        let person = {
            "name": "test",
            //参数中  clsName = "java"，等号后边的"java"为默认值
            learn1: function (clsName = "java") {
                console.log(this.name + "在学习" + clsName);
            },
            //ES6箭头函数写法，箭头函数中无法使用this
            learn2: (clsName) => console.log(person.name + "在学习" + clsName),
            //更简写方法
            learn3(clsName) {
                console.log(this.name + "在学习" + clsName);
            }
        };
        person.learn1("java");	//test在学习java
        person.learn2("js");	//test在学习js
        person.learn3("css");	//test在学习css*/
        /*
                //ES5写法，函数调用对象
                const person = {
                    name: "test",
                    age: 15,
                    language: ["java", "js", "css"]
                };
                function hello(person) {
                    console.log("hello " + person.name);
                }
                hello(person);  //hello test

                //箭头函数和解构表达式的综合运用
                var hello2 = ({name}) => console.log("hello " + name);
                hello2(person)  //hello test*/

        /*        //map方法
                //字符串数组
                let arr = ['1', '20', '-5', '3'];
                console.log(arr);   //["1", "20", "-5", "3"]
                //将字符串转为整型
                arr = arr.map(s => parseInt(s));
                console.log(arr);   //[1, 20, -5, 3]*/

        /*        //reduce方法
                let arr = [1, 2, 3];
                //第一步 1+2=3,3+2=5
                //第二步 5+3=8
                arr = arr.reduce((a, b) => a + b, 2);
                console.log(arr);   //8*/

/*        //promise容器
        const promise = new Promise(function (resolve, reject) {
            //每隔300秒生成一个随机数
            setTimeout(() => {
                let num = Math.random();
                if (num < 0.5) {
                    resolve("操作成功！num = " + num);
                } else {
                    reject("操作失败！num = " + num);
                }
            }, 300);
        });

        promise.then(function (msg) {
            console.log(msg);
        }).catch(function (msg) {
            console.log(msg);
        });*/

/*        //对象拓展
        let person = {name:"java", age:15};
        //获取key形成的数组
        console.log(Object.keys(person));   //["name", "age"]
        //获取value形成的数组
        console.log(Object.values(person)); //["java", 15]
        //获取所有key和value形成的二维数组
        console.log(Object.entries(person));    //[["name", "java"], ["age", 15]]
        //覆盖
        let obj = {name:"html"};
        //将person中的K/V覆盖到obj中
        Object.assign(obj, person);
        console.log(obj);   //{name: "java", age: 15}
        //用多个对象覆盖，包含所有属性
        Object.assign(obj, person, {"address":"China"});
        console.log(obj);   //{name: "java", age: 15, address: "China"}*/

        //数组拓展
        let arr = [1, 20, -5, 3];
        //返回能整除2的元素
        console.log(arr.find(i => i%2 === 0 ));     //20
        //返回能整除2的元素的索引
        console.log(arr.findIndex(i => i%2 === 0 ));    //1，20对应的索引号为1
        //判断数组是否包含某元素
        console.log(arr.includes(3));     //true
        console.log(arr.includes(4));     //false
    </script>
</head>
<body>

</body>
</html>